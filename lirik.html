<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Right Here - Justin Bieber ft. Drake</title>
  <style>
    * {
        margin: 0;
        padding: 0;
    }

    body {
        background: linear-gradient(to bottom right, #111, #222);
        color: #fff;
        font-family: "Poppins", sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        text-align: center;
        overflow: hidden;
    }

    #startBtn {
        background: #000000;
        border: none;
        color: rgb(255, 255, 255);
        padding: 30px 120px;
        border-radius: 100px;
        font-size: 60px;
        cursor: pointer;
        font-weight: bold;
        transition: all 300ms ease-in-out;
    }
    #startBtn:hover {
        background: #ffffff;
        color: rgb(0, 0, 0);
        box-shadow: 0px 0px 80px rgba(255, 255, 255, 0.316);
    }

    .lyrics {
        line-height: 60px;
        font-size: 1.8em;
        white-space: pre-line;
        opacity: 0;
        text-shadow: 0px 0px 20px;
        transition: opacity 1s ease-in;
    }

    .show {
        opacity: 1;
    }

    .scatter {
        position: absolute;
        font-size: 2em;
        animation: fly 3s ease-out forwards;
    }

    @keyframes fly {
        to {
            transform: translate(
                calc(200px - 400px * random()),
                calc(200px - 400px * random())
            ) rotate(720deg);
            opacity: 0;
        }
    }

    audio {
        display: none;
    }
  </style>
</head>
<body>
  <button id="startBtn">ClickMe!</button>
  <div id="lyricsContainer"></div>
  <audio id="song" src="righthere.mp3"></audio>

  <script>
    const lyrics = [
      "No, cause I just wanna love you",
      "I will never ever put nobody up above you",
      "I just wanna kiss you baby,",
      "I just wanna hug you 'til the end",
      "Baby 'til the end"
    ];

    const durations = [1.5, 3.5, 6, 7.5, 9]; 
    const container = document.getElementById("lyricsContainer");
    const startBtn = document.getElementById("startBtn");
    const song = document.getElementById("song");

    startBtn.addEventListener("click", () => {
      startBtn.style.display = "none";
      song.play();

      lyrics.forEach((line, index) => {
        const p = document.createElement("p");
        p.className = "lyrics";
        p.textContent = line;
        container.appendChild(p);

        setTimeout(() => {
          p.classList.add("show");
        }, durations[index] * 1000);
      });
    });

    // Efek heboh akhir lagu â€” smooth dan full layar
    song.addEventListener("ended", () => {
        // ... (kode efek berserakan yang sudah ada)

        // Hilangkan semua elemen 'scatter' setelah efek selesai (opsional)
        setTimeout(() => {
            document.querySelectorAll('.scatter').forEach(el => el.remove());
            // Tambahkan fungsi penutup di sini
            try {
                // Coba tutup jendela. Ini hanya akan berhasil jika jendela
                // ini dibuka oleh window.open() dari script lain.
                window.close();
            } catch (e) {
                console.log("Gagal menutup jendela secara otomatis. Kebijakan browser melarangnya.");
            }
        }); // Tunggu sampai animasi 'scatter' benar-benar selesai (sekitar 6 detik)
    });
  </script>
</body>
</html>
